package kevin.module.modules.exploit

import kevin.event.EventTarget
import kevin.event.UpdateEvent
import kevin.module.ListValue
import kevin.module.Module
import kevin.module.ModuleCategory
import kevin.utils.ChatUtils

class TP : Module("TP","Allows you to teleport around.",category = ModuleCategory.EXPLOIT) {
    private val mode = ListValue("Mode", arrayOf("ZQAT"),"ZQAT")

    private var zqatTPState = 0
    override val tag: String
        get() = mode.get()
    override fun onEnable() {
        if (mode equal "ZQAT"){
            zqatTPState = if (!mc.playerController.isSpectator){
                ChatUtils.messageWithStart("§7[§cTP§7] §cJump In To Void!")
                0
            }else 1
        }
    }
    override fun onDisable() {
        zqatTPState = 0
    }
    @EventTarget fun onUpdate(event: UpdateEvent){
        if (zqatTPState >= 2){
            mc.thePlayer.setPosition(mc.thePlayer.posX,mc.thePlayer.posY+9.25,mc.thePlayer.posZ)
            mc.thePlayer.motionY=1.0
            if (zqatTPState > 42) this.toggle()
            zqatTPState += 1
        }
        if (zqatTPState == 1 && !mc.playerController.isSpectator) zqatTPState = 2
        if (zqatTPState == 0 && mc.playerController.isSpectator) zqatTPState = 1
    }
}